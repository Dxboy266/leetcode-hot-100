# æ»‘åŠ¨çª—å£æ¨¡æ¿ ğŸªŸ

> æ»‘åŠ¨çª—å£æ˜¯å¤„ç†è¿ç»­å­æ•°ç»„/å­ä¸²é—®é¢˜çš„æ ¸å¿ƒæŠ€å·§

---

## ğŸ¯ æ»‘åŠ¨çª—å£æ ¸å¿ƒæ€æƒ³

æ»‘åŠ¨çª—å£æœ¬è´¨æ˜¯**åŒæŒ‡é’ˆçš„ä¸€ç§åº”ç”¨**ï¼Œé€šè¿‡ç»´æŠ¤ä¸€ä¸ªçª—å£åœ¨æ•°ç»„/å­—ç¬¦ä¸²ä¸Šæ»‘åŠ¨ï¼Œé¿å…é‡å¤è®¡ç®—ã€‚

**é€‚ç”¨åœºæ™¯**ï¼š
- è¿ç»­å­æ•°ç»„/å­ä¸²çš„æœ€å€¼é—®é¢˜
- æ»¡è¶³æŸç§æ¡ä»¶çš„æœ€é•¿/æœ€çŸ­å­ä¸²
- å›ºå®š/å¯å˜é•¿åº¦çš„çª—å£é—®é¢˜

**æ ¸å¿ƒè¦ç´ **ï¼š
1. **left**: çª—å£å·¦è¾¹ç•Œ
2. **right**: çª—å£å³è¾¹ç•Œï¼ˆéå†æŒ‡é’ˆï¼‰
3. **çª—å£æ‰©å¤§**: right++
4. **çª—å£æ”¶ç¼©**: left++ (å½“çª—å£ä¸æ»¡è¶³æ¡ä»¶æ—¶)
5. **æ›´æ–°ç­”æ¡ˆ**: åœ¨åˆé€‚çš„æ—¶æœºæ›´æ–°ç»“æœ

---

## ğŸ”§ é€šç”¨æ¨¡æ¿

### æ¨¡æ¿ä¸€ï¼šå¯å˜é•¿åº¦çª—å£ï¼ˆæœ€å¸¸ç”¨ï¼‰â­

```java
public int slidingWindow(String s) {
    int n = s.length();
    int left = 0, right = 0;
    int result = 0;  // æˆ– Integer.MAX_VALUEï¼Œæ ¹æ®é¢˜æ„
    
    // çª—å£å†…çš„çŠ¶æ€ï¼ˆå¯ä»¥æ˜¯ Mapã€Setã€æ•°ç»„ç­‰ï¼‰
    Map<Character, Integer> window = new HashMap<>();
    
    while (right < n) {
        // 1. æ‰©å¤§çª—å£ï¼šå°† right ä½ç½®çš„å…ƒç´ åŠ å…¥çª—å£
        char c = s.charAt(right);
        window.put(c, window.getOrDefault(c, 0) + 1);
        right++;
        
        // 2. æ”¶ç¼©çª—å£ï¼šå½“çª—å£ä¸æ»¡è¶³æ¡ä»¶æ—¶
        while (/* çª—å£éœ€è¦æ”¶ç¼©çš„æ¡ä»¶ */) {
            // æ›´æ–°ç»“æœï¼ˆåœ¨æ”¶ç¼©å‰ï¼‰
            result = Math.max(result, right - left);  // æˆ– Math.min
            
            // ç§»é™¤ left ä½ç½®çš„å…ƒç´ 
            char d = s.charAt(left);
            window.put(d, window.get(d) - 1);
            if (window.get(d) == 0) {
                window.remove(d);
            }
            left++;
        }
        
        // 3. æ›´æ–°ç»“æœï¼ˆåœ¨æ‰©å¤§åï¼‰- æ ¹æ®é¢˜æ„é€‰æ‹©åœ¨è¿™é‡Œæˆ–æ”¶ç¼©å‰
        result = Math.max(result, right - left);
    }
    
    return result;
}
```

### æ¨¡æ¿äºŒï¼šå›ºå®šé•¿åº¦çª—å£

```java
public int fixedSlidingWindow(int[] nums, int k) {
    int n = nums.length;
    int sum = 0;  // çª—å£å†…çš„çŠ¶æ€
    int result = 0;
    
    // 1. åˆå§‹åŒ–çª—å£
    for (int i = 0; i < k; i++) {
        sum += nums[i];
    }
    result = sum;
    
    // 2. æ»‘åŠ¨çª—å£
    for (int right = k; right < n; right++) {
        // åŠ å…¥æ–°å…ƒç´ 
        sum += nums[right];
        // ç§»é™¤æ—§å…ƒç´ 
        sum -= nums[right - k];
        // æ›´æ–°ç»“æœ
        result = Math.max(result, sum);
    }
    
    return result;
}
```

---

## ğŸ“š ç»å…¸é¢˜ç›®

### 1. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²ï¼ˆLeetCode 3ï¼‰â­â­â­

**é—®é¢˜**ï¼šç»™å®šå­—ç¬¦ä¸² sï¼Œæ‰¾å‡ºä¸å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„é•¿åº¦

**è§£æ³•**ï¼šå¯å˜é•¿åº¦çª—å£ + HashMap

```java
public int lengthOfLongestSubstring(String s) {
    if (s == null || s.length() == 0) return 0;
    
    Map<Character, Integer> map = new HashMap<>();
    int maxLen = 0;
    int left = 0;
    
    for (int right = 0; right < s.length(); right++) {
        char c = s.charAt(right);
        
        // å¦‚æœå­—ç¬¦å·²å­˜åœ¨ï¼Œä¸”åœ¨å½“å‰çª—å£å†…ï¼Œæ”¶ç¼©çª—å£
        if (map.containsKey(c) && map.get(c) >= left) {
            left = map.get(c) + 1;
        }
        
        // æ›´æ–°å­—ç¬¦ä½ç½®
        map.put(c, right);
        
        // æ›´æ–°æœ€å¤§é•¿åº¦
        maxLen = Math.max(maxLen, right - left + 1);
    }
    
    return maxLen;
}
```

**æ ¸å¿ƒæ€è·¯**ï¼š
- ç”¨ HashMap è®°å½•å­—ç¬¦æœ€åå‡ºç°çš„ä½ç½®
- é‡åˆ°é‡å¤å­—ç¬¦æ—¶ï¼Œå°† left ç§»åŠ¨åˆ°é‡å¤å­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®
- æ¯æ¬¡æ›´æ–°æœ€å¤§é•¿åº¦

---

### 2. æœ€å°è¦†ç›–å­ä¸²ï¼ˆLeetCode 76ï¼‰â­â­â­

**é—®é¢˜**ï¼šç»™å®šå­—ç¬¦ä¸² s å’Œ tï¼Œè¿”å› s ä¸­æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²

**è§£æ³•**ï¼šå¯å˜é•¿åº¦çª—å£ + å­—ç¬¦è®¡æ•°

```java
public String minWindow(String s, String t) {
    if (s == null || t == null || s.length() < t.length()) {
        return "";
    }
    
    // ç»Ÿè®¡ t ä¸­æ¯ä¸ªå­—ç¬¦çš„æ•°é‡
    Map<Character, Integer> need = new HashMap<>();
    for (char c : t.toCharArray()) {
        need.put(c, need.getOrDefault(c, 0) + 1);
    }
    
    Map<Character, Integer> window = new HashMap<>();
    int left = 0, right = 0;
    int valid = 0;  // çª—å£ä¸­æ»¡è¶³ need æ¡ä»¶çš„å­—ç¬¦ç§ç±»æ•°
    
    int start = 0, len = Integer.MAX_VALUE;  // è®°å½•æœ€å°å­ä¸²çš„èµ·å§‹ä½ç½®å’Œé•¿åº¦
    
    while (right < s.length()) {
        // æ‰©å¤§çª—å£
        char c = s.charAt(right);
        right++;
        
        if (need.containsKey(c)) {
            window.put(c, window.getOrDefault(c, 0) + 1);
            if (window.get(c).equals(need.get(c))) {
                valid++;
            }
        }
        
        // æ”¶ç¼©çª—å£
        while (valid == need.size()) {
            // æ›´æ–°æœ€å°å­ä¸²
            if (right - left < len) {
                start = left;
                len = right - left;
            }
            
            // ç§»é™¤ left ä½ç½®çš„å­—ç¬¦
            char d = s.charAt(left);
            left++;
            
            if (need.containsKey(d)) {
                if (window.get(d).equals(need.get(d))) {
                    valid--;
                }
                window.put(d, window.get(d) - 1);
            }
        }
    }
    
    return len == Integer.MAX_VALUE ? "" : s.substring(start, start + len);
}
```

---

### 3. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯ï¼ˆLeetCode 438ï¼‰

**é—®é¢˜**ï¼šç»™å®šå­—ç¬¦ä¸² s å’Œ pï¼Œæ‰¾åˆ° s ä¸­æ‰€æœ‰ p çš„å¼‚ä½è¯çš„èµ·å§‹ç´¢å¼•

**è§£æ³•**ï¼šå›ºå®šé•¿åº¦çª—å£ + å­—ç¬¦è®¡æ•°

```java
public List<Integer> findAnagrams(String s, String p) {
    List<Integer> result = new ArrayList<>();
    if (s == null || s.length() < p.length()) {
        return result;
    }
    
    int[] need = new int[26];
    int[] window = new int[26];
    
    // ç»Ÿè®¡ p ä¸­æ¯ä¸ªå­—ç¬¦çš„æ•°é‡
    for (char c : p.toCharArray()) {
        need[c - 'a']++;
    }
    
    int left = 0, right = 0;
    
    while (right < s.length()) {
        // æ‰©å¤§çª—å£
        char c = s.charAt(right);
        window[c - 'a']++;
        right++;
        
        // å½“çª—å£å¤§å°ç­‰äº p çš„é•¿åº¦æ—¶
        if (right - left == p.length()) {
            // æ£€æŸ¥æ˜¯å¦ä¸ºå¼‚ä½è¯
            if (Arrays.equals(window, need)) {
                result.add(left);
            }
            
            // æ”¶ç¼©çª—å£
            char d = s.charAt(left);
            window[d - 'a']--;
            left++;
        }
    }
    
    return result;
}
```

---

## âš ï¸ æ˜“é”™ç‚¹

1. **è¾¹ç•Œæ¡ä»¶**
   - âŒ å¿˜è®°æ£€æŸ¥ç©ºå­—ç¬¦ä¸²æˆ–ç©ºæ•°ç»„
   - âœ… åœ¨å‡½æ•°å¼€å¤´åšå¥½è¾¹ç•Œæ£€æŸ¥

2. **çª—å£æ”¶ç¼©æ—¶æœº**
   - âŒ ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ”¶ç¼©çª—å£
   - âœ… æ˜ç¡®æ”¶ç¼©æ¡ä»¶ï¼ˆçª—å£ä¸æ»¡è¶³è¦æ±‚ or å›ºå®šé•¿åº¦ï¼‰

3. **æ›´æ–°ç­”æ¡ˆæ—¶æœº**
   - âŒ åœ¨é”™è¯¯çš„åœ°æ–¹æ›´æ–°ç­”æ¡ˆ
   - âœ… æ±‚æœ€å¤§ï¼šåœ¨çª—å£åˆæ³•æ—¶æ›´æ–°ï¼›æ±‚æœ€å°ï¼šåœ¨çª—å£æ”¶ç¼©å‰æ›´æ–°

4. **HashMap æ“ä½œ**
   - âŒ å¿˜è®°ç§»é™¤è®¡æ•°ä¸º 0 çš„é”®
   - âœ… åŠæ—¶æ¸…ç† mapï¼Œé¿å…å½±å“åˆ¤æ–­

5. **å­—ç¬¦è®¡æ•°**
   - âŒ ä½¿ç”¨ HashMap å¯¼è‡´æ•ˆç‡ä½
   - âœ… å¯¹äºæœ‰é™å­—ç¬¦é›†ï¼ˆå¦‚å­—æ¯ï¼‰ï¼Œä½¿ç”¨æ•°ç»„æ›´é«˜æ•ˆ

---

## ğŸ¯ è§£é¢˜æŠ€å·§

### 1. åˆ¤æ–­ä½¿ç”¨æ»‘åŠ¨çª—å£çš„æ ‡å¿—

çœ‹åˆ°ä»¥ä¸‹å…³é”®è¯æ—¶ï¼Œè€ƒè™‘æ»‘åŠ¨çª—å£ï¼š
- "è¿ç»­å­æ•°ç»„/å­ä¸²"
- "æœ€é•¿/æœ€çŸ­"
- "æ»¡è¶³æŸæ¡ä»¶"
- "æ— é‡å¤"

### 2. é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„

| åœºæ™¯ | æ•°æ®ç»“æ„ | è¯´æ˜ |
|------|---------|------|
| å­—ç¬¦æ˜¯å¦å­˜åœ¨ | HashSet | å¿«é€ŸæŸ¥æ‰¾ |
| å­—ç¬¦è®¡æ•° | HashMap | è®°å½•é¢‘æ¬¡ |
| æœ‰é™å­—ç¬¦é›† | int[] æ•°ç»„ | æ›´å¿«ï¼Œç©ºé—´å›ºå®š |
| éœ€è¦æœ‰åº | TreeMap | ç»´æŠ¤é¡ºåº |

### 3. æ¨¡æ¿é€‰æ‹©

| é—®é¢˜ç±»å‹ | ä½¿ç”¨æ¨¡æ¿ | ç¤ºä¾‹ |
|---------|---------|------|
| å›ºå®šé•¿åº¦çª—å£ | æ¨¡æ¿äºŒ | é•¿åº¦ä¸º k çš„å­æ•°ç»„æœ€å¤§å’Œ |
| æœ€é•¿æ»¡è¶³æ¡ä»¶ | æ¨¡æ¿ä¸€ + æ‰©å¤§æ—¶æ›´æ–° | æ— é‡å¤å­—ç¬¦æœ€é•¿å­ä¸² |
| æœ€çŸ­æ»¡è¶³æ¡ä»¶ | æ¨¡æ¿ä¸€ + æ”¶ç¼©æ—¶æ›´æ–° | æœ€å°è¦†ç›–å­ä¸² |

---

## âœ… ç»ƒä¹ é¢˜ç›®æ¸…å•

### åŸºç¡€é¢˜ï¼ˆæŒæ¡æ¨¡æ¿ï¼‰
- [x] 3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² â­â­â­
- [ ] 209. é•¿åº¦æœ€å°çš„å­æ•°ç»„
- [ ] 643. å­æ•°ç»„æœ€å¤§å¹³å‡æ•° I

### è¿›é˜¶é¢˜ï¼ˆå˜å½¢åº”ç”¨ï¼‰
- [ ] 76. æœ€å°è¦†ç›–å­ä¸² â­â­â­
- [ ] 438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯
- [ ] 567. å­—ç¬¦ä¸²çš„æ’åˆ—
- [ ] 1004. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III

### å›°éš¾é¢˜ï¼ˆç»¼åˆè¿ç”¨ï¼‰
- [ ] 239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼ï¼ˆéœ€è¦å•è°ƒé˜Ÿåˆ—ï¼‰
- [ ] 992. K ä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„
- [ ] 1234. æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²

---

## ğŸ“Š æ—¶é—´å¤æ‚åº¦åˆ†æ

è™½ç„¶æ»‘åŠ¨çª—å£çœ‹èµ·æ¥æœ‰ä¸¤å±‚å¾ªç¯ï¼Œä½†å®é™…æ—¶é—´å¤æ‚åº¦æ˜¯ **O(n)**ï¼š

```java
while (right < n) {          // right æœ€å¤šç§»åŠ¨ n æ¬¡
    // æ‰©å¤§çª—å£
    right++;
    
    while (/* æ”¶ç¼©æ¡ä»¶ */) {  // left æœ€å¤šç§»åŠ¨ n æ¬¡
        left++;
    }
}
```

**ä¸ºä»€ä¹ˆæ˜¯ O(n)ï¼Ÿ**
- left å’Œ right éƒ½æœ€å¤šç§»åŠ¨ n æ¬¡
- æ€»æ“ä½œæ¬¡æ•°ï¼š2n = O(n)

---

> **æœ€åæ›´æ–°**ï¼š2025-11-02  
> **æœ¬ä»“åº“å·²å®Œæˆ**ï¼š1é¢˜ï¼ˆ3.æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²ï¼‰

