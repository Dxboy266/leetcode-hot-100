# äºŒå‰æ ‘æ ¸å¿ƒæ¨¡æ¿ ğŸŒ²

> æ ‘æ˜¯é€’å½’çš„å¤©ç„¶è½½ä½“ã€‚æŒæ¡ä¸‰ç§éå† + ä¸¤ç§é€’å½’æ¨¡å¼ï¼Œè§£å†³90%çš„æ ‘é¢˜ã€‚

---

## ğŸ¯ é€’å½’ä¸‰è¦ç´ 

1. **ç»ˆæ­¢æ¡ä»¶**ï¼š`root == null` æˆ–å¶å­èŠ‚ç‚¹
2. **é€’å½’è°ƒç”¨**ï¼šå¤„ç†å·¦å³å­æ ‘
3. **è¿”å›å€¼**ï¼šå‘ä¸Šä¼ é€’ä»€ä¹ˆä¿¡æ¯

---

## ğŸ”§ æ ¸å¿ƒæ¨¡æ¿

### 1ï¸âƒ£ ä¸‰ç§éå†ï¼ˆDFSï¼‰

```java
// å‰åºï¼šæ ¹ â†’ å·¦ â†’ å³
public void preorder(TreeNode root) {
    if (root == null) return;
    visit(root);
    preorder(root.left);
    preorder(root.right);
}

// ä¸­åºï¼šå·¦ â†’ æ ¹ â†’ å³ â­ BSTä¸­åºéå†æ˜¯æœ‰åºçš„
public void inorder(TreeNode root) {
    if (root == null) return;
    inorder(root.left);
    visit(root);
    inorder(root.right);
}

// ååºï¼šå·¦ â†’ å³ â†’ æ ¹ â­ è‡ªåº•å‘ä¸Šæ”¶é›†ä¿¡æ¯
public void postorder(TreeNode root) {
    if (root == null) return;
    postorder(root.left);
    postorder(root.right);
    visit(root);
}
```

**åº”ç”¨åœºæ™¯**ï¼š
- **å‰åº**ï¼šå¤åˆ¶æ ‘ã€åºåˆ—åŒ–
- **ä¸­åº**ï¼šBSTæ’åºã€éªŒè¯BST
- **ååº**ï¼šåˆ é™¤æ ‘ã€è®¡ç®—é«˜åº¦/ç›´å¾„

### 2ï¸âƒ£ å±‚åºéå†ï¼ˆBFSï¼‰â­â­â­

```java
public List<List<Integer>> levelOrder(TreeNode root) {
    List<List<Integer>> result = new ArrayList<>();
    if (root == null) return result;
    
    Queue<TreeNode> queue = new LinkedList<>();
    queue.offer(root);
    
    while (!queue.isEmpty()) {
        int size = queue.size();  // â­ è®°å½•å½“å‰å±‚èŠ‚ç‚¹æ•°
        List<Integer> level = new ArrayList<>();
        
        for (int i = 0; i < size; i++) {
            TreeNode node = queue.poll();
            level.add(node.val);
            if (node.left != null) queue.offer(node.left);
            if (node.right != null) queue.offer(node.right);
        }
        result.add(level);
    }
    return result;
}
```

**å…³é”®**ï¼š`int size = queue.size()` åŒºåˆ†å±‚çº§

---

### 3ï¸âƒ£ ä¸¤ç§é€’å½’æ¨¡å¼ â­â­â­

#### æ¨¡å¼ä¸€ï¼šè‡ªé¡¶å‘ä¸‹ï¼ˆå‰åºæ€æƒ³ï¼‰

```java
public void topDown(TreeNode root, int param) {
    if (root == null) return;
    
    doSomething(root, param);      // å…ˆå¤„ç†å½“å‰èŠ‚ç‚¹
    topDown(root.left, newParam);  // å‘ä¸‹ä¼ é€’å‚æ•°
    topDown(root.right, newParam);
}
```

**åº”ç”¨**ï¼šè·¯å¾„é—®é¢˜ã€æ·±åº¦é—®é¢˜

#### æ¨¡å¼äºŒï¼šè‡ªåº•å‘ä¸Šï¼ˆååºæ€æƒ³ï¼‰â­â­â­

```java
public int bottomUp(TreeNode root) {
    if (root == null) return 0;
    
    int left = bottomUp(root.left);    // å…ˆå¤„ç†å­æ ‘
    int right = bottomUp(root.right);
    
    return doSomething(left, right);   // å†å¤„ç†å½“å‰å±‚
}
```

**åº”ç”¨**ï¼šé«˜åº¦ã€ç›´å¾„ã€æœ€è¿‘å…¬å…±ç¥–å…ˆ

**ç¤ºä¾‹ï¼šæœ€å¤§æ·±åº¦**
```java
public int maxDepth(TreeNode root) {
    if (root == null) return 0;
    return Math.max(maxDepth(root.left), maxDepth(root.right)) + 1;
}
```

**ç¤ºä¾‹ï¼šäºŒå‰æ ‘ç›´å¾„**
```java
private int maxDiameter = 0;

public int diameterOfBinaryTree(TreeNode root) {
    maxDiameter = 0;
    depth(root);
    return maxDiameter;
}

private int depth(TreeNode root) {
    if (root == null) return 0;
    int left = depth(root.left);
    int right = depth(root.right);
    maxDiameter = Math.max(maxDiameter, left + right);  // æ›´æ–°ç›´å¾„
    return Math.max(left, right) + 1;  // è¿”å›æ·±åº¦
}
```

---

### 4ï¸âƒ£ ç‰¹æ®Šæ¨¡å¼

#### BSTéªŒè¯ï¼ˆä¸­åºéå† + åŒºé—´é™åˆ¶ï¼‰

```java
// æ–¹æ³•1ï¼šä¸­åºéå†åˆ¤æ–­é€’å¢
public boolean isValidBST(TreeNode root) {
    List<Integer> inorder = new ArrayList<>();
    traverse(root, inorder);
    for (int i = 1; i < inorder.size(); i++) {
        if (inorder.get(i) <= inorder.get(i - 1)) return false;
    }
    return true;
}

// æ–¹æ³•2ï¼šåŒºé—´é™åˆ¶ â­ æ¨è
public boolean isValidBST(TreeNode root) {
    return isValid(root, Long.MIN_VALUE, Long.MAX_VALUE);
}

private boolean isValid(TreeNode root, long min, long max) {
    if (root == null) return true;
    if (root.val <= min || root.val >= max) return false;
    return isValid(root.left, min, root.val) && 
           isValid(root.right, root.val, max);
}
```

#### æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆååºéå†ï¼‰â­â­â­

```java
public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
    if (root == null || root == p || root == q) return root;
    
    TreeNode left = lowestCommonAncestor(root.left, p, q);
    TreeNode right = lowestCommonAncestor(root.right, p, q);
    
    if (left != null && right != null) return root;  // åˆ†åˆ«åœ¨ä¸¤ä¾§
    return left != null ? left : right;              // éƒ½åœ¨ä¸€ä¾§
}
```

#### å¯¹ç§°äºŒå‰æ ‘ï¼ˆåŒæŒ‡é’ˆé€’å½’ï¼‰

```java
public boolean isSymmetric(TreeNode root) {
    return isMirror(root.left, root.right);
}

private boolean isMirror(TreeNode left, TreeNode right) {
    if (left == null && right == null) return true;
    if (left == null || right == null) return false;
    return left.val == right.val && 
           isMirror(left.left, right.right) && 
           isMirror(left.right, right.left);
}
```

---

## ğŸ”‘ è§£é¢˜å¥—è·¯

### çœ‹åˆ°ä»€ä¹ˆé¢˜ç”¨ä»€ä¹ˆæ–¹æ³•

| å…³é”®è¯ | æ–¹æ³• | ç¤ºä¾‹ |
|--------|------|------|
| BST | ä¸­åºéå† | éªŒè¯BSTã€ç¬¬Kå°å…ƒç´  |
| æ·±åº¦/é«˜åº¦ | ååºéå† | æœ€å¤§æ·±åº¦ã€ç›´å¾„ |
| ç¥–å…ˆ | ååºéå† | æœ€è¿‘å…¬å…±ç¥–å…ˆ |
| å¯¹ç§°/é•œåƒ | åŒæŒ‡é’ˆé€’å½’ | å¯¹ç§°æ ‘ã€ç›¸åŒçš„æ ‘ |
| å±‚çº§/å±‚åº | BFSé˜Ÿåˆ— | å±‚åºéå†ã€å³è§†å›¾ |
| è·¯å¾„å’Œ | å‰åºéå† | è·¯å¾„æ€»å’Œ |

### é€’å½’è¿”å›å€¼é€‰æ‹©

- `void` â†’ åªéå†ï¼ˆæ‰“å°èŠ‚ç‚¹ï¼‰
- `int/boolean` â†’ éœ€è¦å­æ ‘ä¿¡æ¯ï¼ˆæ·±åº¦ã€æ˜¯å¦æœ‰æ•ˆï¼‰
- `TreeNode` â†’ éœ€è¦è¿”å›èŠ‚ç‚¹ï¼ˆæ„å»ºæ ‘ã€æ‰¾èŠ‚ç‚¹ï¼‰

---

## ğŸ“Œ å·²å®Œæˆé¢˜ç›®

| é¢˜å· | é¢˜ç›® | éš¾åº¦ | æ ¸å¿ƒæŠ€å·§ |
|------|------|------|---------|
| 144 | å‰åºéå† | ğŸŸ¢ | é€’å½’/æ ˆ |
| 94 | ä¸­åºéå† | ğŸŸ¢ | é€’å½’/æ ˆ |
| 102 | å±‚åºéå† | ğŸŸ¡ | BFS |
| 104 | æœ€å¤§æ·±åº¦ | ğŸŸ¢ | ååºé€’å½’ |
| 226 | ç¿»è½¬äºŒå‰æ ‘ | ğŸŸ¢ | é€’å½’äº¤æ¢ |
| 101 | å¯¹ç§°äºŒå‰æ ‘ | ğŸŸ¢ | åŒæŒ‡é’ˆé€’å½’ |
| 98 | éªŒè¯BST | ğŸŸ¡ | ä¸­åºéå†/åŒºé—´é™åˆ¶ |
| 236 | æœ€è¿‘å…¬å…±ç¥–å…ˆ | ğŸŸ¡ | ååºé€’å½’ â­ |
| 543 | äºŒå‰æ ‘çš„ç›´å¾„ | ğŸŸ¢ | ååºé€’å½’ + å…¨å±€å˜é‡ |

---

## ğŸ’¡ æ ¸å¿ƒæ€»ç»“

**éå†é€‰æ‹©**ï¼š
- å‰åºï¼šæ ¹â†’å·¦â†’å³ï¼ˆå¤åˆ¶ã€åºåˆ—åŒ–ï¼‰
- ä¸­åºï¼šå·¦â†’æ ¹â†’å³ï¼ˆBSTæ’åºï¼‰â­
- ååºï¼šå·¦â†’å³â†’æ ¹ï¼ˆé«˜åº¦ã€åˆ é™¤ï¼‰â­
- å±‚åºï¼šBFSï¼ˆå±‚çº§é—®é¢˜ï¼‰â­

**é€’å½’æ¨¡å¼**ï¼š
- è‡ªé¡¶å‘ä¸‹ï¼šå…ˆå¤„ç†æ ¹ï¼Œå†ä¼ é€’å‚æ•°
- è‡ªåº•å‘ä¸Šï¼šå…ˆå¤„ç†å­æ ‘ï¼Œå†ç»„åˆç»“æœ â­â­â­

**å…³é”®æŠ€å·§**ï¼š
- BST â†’ ä¸­åºéå†æ˜¯æœ‰åºçš„
- å±‚åº â†’ `int size = queue.size()`
- ç›´å¾„ â†’ ååºéå† + å…¨å±€å˜é‡
- LCA â†’ ååºéå†ï¼Œåˆ†æƒ…å†µè®¨è®º

æŒæ¡ä¸‰ç§éå† + ä¸¤ç§é€’å½’æ¨¡å¼ï¼Œè§£å†³90%çš„æ ‘é¢˜ï¼ğŸŒ²

---

> **ä½œè€…**: Dxboy266  
> **æ›´æ–°**: 2025-10-27  
> **çŠ¶æ€**: âœ… æ ‘ä¸“é¢˜è¿›é˜¶å®Œæˆï¼ˆ9/12é¢˜ï¼‰

