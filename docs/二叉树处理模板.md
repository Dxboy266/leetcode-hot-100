# äºŒå‰æ ‘å¤„ç†æ¨¡æ¿æ€»ç»“ ğŸŒ²

> äºŒå‰æ ‘æ˜¯é€’å½’æ€æƒ³çš„æœ€ä½³è½½ä½“ã€‚æŒæ¡æ ¸å¿ƒæ¨¡æ¿ï¼Œæ ‘çš„é—®é¢˜è¿åˆƒè€Œè§£ã€‚

---

## ğŸ“š åŸºç¡€çŸ¥è¯†

### äºŒå‰æ ‘èŠ‚ç‚¹å®šä¹‰

```java
public class TreeNode {
    int val;
    TreeNode left;
    TreeNode right;
    
    TreeNode() {}
    TreeNode(int val) { this.val = val; }
    TreeNode(int val, TreeNode left, TreeNode right) {
        this.val = val;
        this.left = left;
        this.right = right;
    }
}
```

### é€’å½’ä¸‰è¦ç´ 

1. **ç»ˆæ­¢æ¡ä»¶**ï¼šä½•æ—¶åœæ­¢é€’å½’ï¼ˆé€šå¸¸æ˜¯ `root == null`ï¼‰
2. **é€’å½’è°ƒç”¨**ï¼šå¤„ç†å·¦å³å­æ ‘
3. **è¿”å›å€¼**ï¼šå½“å‰å±‚è¦è¿”å›ä»€ä¹ˆ

---

## ğŸ”§ æ ¸å¿ƒæ¨¡æ¿

### 1ï¸âƒ£ éå†æ¨¡æ¿

#### å‰åºéå†ï¼ˆæ ¹ â†’ å·¦ â†’ å³ï¼‰

```java
public void preorder(TreeNode root) {
    if (root == null) return;
    
    visit(root);              // è®¿é—®æ ¹èŠ‚ç‚¹
    preorder(root.left);      // éå†å·¦å­æ ‘
    preorder(root.right);     // éå†å³å­æ ‘
}
```

#### ä¸­åºéå†ï¼ˆå·¦ â†’ æ ¹ â†’ å³ï¼‰â­

```java
public void inorder(TreeNode root) {
    if (root == null) return;
    
    inorder(root.left);       // éå†å·¦å­æ ‘
    visit(root);              // è®¿é—®æ ¹èŠ‚ç‚¹
    inorder(root.right);      // éå†å³å­æ ‘
}
```

**åº”ç”¨**ï¼šäºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†ç»“æœæ˜¯æœ‰åºçš„

#### ååºéå†ï¼ˆå·¦ â†’ å³ â†’ æ ¹ï¼‰

```java
public void postorder(TreeNode root) {
    if (root == null) return;
    
    postorder(root.left);     // éå†å·¦å­æ ‘
    postorder(root.right);    // éå†å³å­æ ‘
    visit(root);              // è®¿é—®æ ¹èŠ‚ç‚¹
}
```

#### å±‚åºéå†ï¼ˆBFSï¼‰â­â­â­

```java
public List<List<Integer>> levelOrder(TreeNode root) {
    List<List<Integer>> result = new ArrayList<>();
    if (root == null) return result;
    
    Queue<TreeNode> queue = new LinkedList<>();
    queue.offer(root);
    
    while (!queue.isEmpty()) {
        int size = queue.size();  // å½“å‰å±‚çš„èŠ‚ç‚¹æ•°
        List<Integer> level = new ArrayList<>();
        
        for (int i = 0; i < size; i++) {
            TreeNode node = queue.poll();
            level.add(node.val);
            
            if (node.left != null) queue.offer(node.left);
            if (node.right != null) queue.offer(node.right);
        }
        
        result.add(level);
    }
    
    return result;
}
```

**å…³é”®ç‚¹**ï¼šç”¨ `size` è®°å½•å½“å‰å±‚çš„èŠ‚ç‚¹æ•°ï¼Œå®ç°åˆ†å±‚

---

### 2ï¸âƒ£ é€’å½’å¤„ç†æ¨¡æ¿

#### è‡ªé¡¶å‘ä¸‹ï¼ˆå‰åºéå†æ€æƒ³ï¼‰

```java
public void topDown(TreeNode root, int param) {
    if (root == null) return;
    
    // åœ¨å½“å‰å±‚å¤„ç†
    doSomething(root, param);
    
    // å‘ä¸‹ä¼ é€’å‚æ•°
    topDown(root.left, newParam);
    topDown(root.right, newParam);
}
```

**åº”ç”¨**ï¼šè·¯å¾„é—®é¢˜ã€æ·±åº¦é—®é¢˜

#### è‡ªåº•å‘ä¸Šï¼ˆååºéå†æ€æƒ³ï¼‰â­â­â­

```java
public int bottomUp(TreeNode root) {
    if (root == null) return 0;
    
    // å…ˆå¤„ç†å­æ ‘
    int left = bottomUp(root.left);
    int right = bottomUp(root.right);
    
    // æ ¹æ®å­æ ‘ç»“æœå¤„ç†å½“å‰èŠ‚ç‚¹
    return doSomething(left, right);
}
```

**åº”ç”¨**ï¼šæœ€å¤§æ·±åº¦ã€åˆ¤æ–­å¹³è¡¡ã€æœ€è¿‘å…¬å…±ç¥–å…ˆ

**ç¤ºä¾‹ï¼šæœ€å¤§æ·±åº¦**
```java
public int maxDepth(TreeNode root) {
    if (root == null) return 0;
    
    int leftDepth = maxDepth(root.left);
    int rightDepth = maxDepth(root.right);
    
    return Math.max(leftDepth, rightDepth) + 1;
}
```

---

### 3ï¸âƒ£ åŒæŒ‡é’ˆé€’å½’ï¼ˆé•œåƒ/å¯¹ç§°é—®é¢˜ï¼‰

```java
public boolean isMirror(TreeNode left, TreeNode right) {
    // ç»ˆæ­¢æ¡ä»¶
    if (left == null && right == null) return true;
    if (left == null || right == null) return false;
    
    // å½“å‰å±‚åˆ¤æ–­
    if (left.val != right.val) return false;
    
    // é€’å½’åˆ¤æ–­å­æ ‘ï¼ˆæ³¨æ„å¯¹ç§°ä½ç½®ï¼‰
    return isMirror(left.left, right.right) && 
           isMirror(left.right, right.left);
}
```

**åº”ç”¨**ï¼šå¯¹ç§°äºŒå‰æ ‘ã€ç›¸åŒçš„æ ‘

---

### 4ï¸âƒ£ æ ‘çš„ä¿®æ”¹æ¨¡æ¿

#### ç¿»è½¬äºŒå‰æ ‘

```java
public TreeNode invertTree(TreeNode root) {
    if (root == null) return null;
    
    // é€’å½’ç¿»è½¬å·¦å³å­æ ‘
    TreeNode left = invertTree(root.left);
    TreeNode right = invertTree(root.right);
    
    // äº¤æ¢å·¦å³å­æ ‘
    root.left = right;
    root.right = left;
    
    return root;
}
```

#### æ„å»ºäºŒå‰æ ‘

```java
public TreeNode buildTree(int[] preorder, int[] inorder) {
    // ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨ä¸­åºéå†çš„ç´¢å¼•
    Map<Integer, Integer> map = new HashMap<>();
    for (int i = 0; i < inorder.length; i++) {
        map.put(inorder[i], i);
    }
    
    return build(preorder, 0, preorder.length - 1,
                 inorder, 0, inorder.length - 1, map);
}

private TreeNode build(int[] preorder, int preStart, int preEnd,
                       int[] inorder, int inStart, int inEnd,
                       Map<Integer, Integer> map) {
    if (preStart > preEnd) return null;
    
    // å‰åºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹
    int rootVal = preorder[preStart];
    TreeNode root = new TreeNode(rootVal);
    
    // åœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°æ ¹èŠ‚ç‚¹ä½ç½®
    int rootIndex = map.get(rootVal);
    int leftSize = rootIndex - inStart;
    
    // é€’å½’æ„å»ºå·¦å³å­æ ‘
    root.left = build(preorder, preStart + 1, preStart + leftSize,
                      inorder, inStart, rootIndex - 1, map);
    root.right = build(preorder, preStart + leftSize + 1, preEnd,
                       inorder, rootIndex + 1, inEnd, map);
    
    return root;
}
```

---

### 5ï¸âƒ£ è¿­ä»£éå†ï¼ˆä½¿ç”¨æ ˆï¼‰

#### ä¸­åºéå†è¿­ä»£ç‰ˆ

```java
public List<Integer> inorderTraversal(TreeNode root) {
    List<Integer> result = new ArrayList<>();
    Stack<TreeNode> stack = new Stack<>();
    TreeNode curr = root;
    
    while (curr != null || !stack.isEmpty()) {
        // ä¸€ç›´å‘å·¦èµ°åˆ°åº•
        while (curr != null) {
            stack.push(curr);
            curr = curr.left;
        }
        
        // å¼¹å‡ºå¹¶è®¿é—®
        curr = stack.pop();
        result.add(curr.val);
        
        // è½¬å‘å³å­æ ‘
        curr = curr.right;
    }
    
    return result;
}
```

---

## ğŸ”‘ å…³é”®æŠ€å·§

### 1. é€’å½’ç»ˆæ­¢æ¡ä»¶

```java
// ç©ºèŠ‚ç‚¹
if (root == null) return ...;

// å¶å­èŠ‚ç‚¹
if (root.left == null && root.right == null) return ...;

// å•å­èŠ‚ç‚¹
if (root.left == null) return ...;
if (root.right == null) return ...;
```

### 2. é€’å½’è¿”å›å€¼è®¾è®¡

- **void**ï¼šåªéå†ï¼Œä¸éœ€è¦è¿”å›å€¼ï¼ˆå¦‚æ‰“å°ï¼‰
- **int/boolean**ï¼šéœ€è¦å­æ ‘ä¿¡æ¯ï¼ˆå¦‚æ·±åº¦ã€æ˜¯å¦å¹³è¡¡ï¼‰
- **TreeNode**ï¼šéœ€è¦è¿”å›èŠ‚ç‚¹ï¼ˆå¦‚æ„å»ºæ ‘ã€æ‰¾èŠ‚ç‚¹ï¼‰

### 3. å±‚åºéå†çš„å…³é”®

```java
int size = queue.size();  // â­ è®°å½•å½“å‰å±‚èŠ‚ç‚¹æ•°
for (int i = 0; i < size; i++) {
    // å¤„ç†å½“å‰å±‚
}
```

### 4. äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰æ€§è´¨

- ä¸­åºéå†ç»“æœæ˜¯å‡åº
- å·¦å­æ ‘æ‰€æœ‰èŠ‚ç‚¹ < æ ¹èŠ‚ç‚¹ < å³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹

---

## ğŸ“Œ å·²å®Œæˆé¢˜ç›®

| é¢˜å· | é¢˜ç›® | éš¾åº¦ | æ ¸å¿ƒæŠ€å·§ |
|------|------|------|---------|
| 104 | äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ | ğŸŸ¢ ç®€å• | è‡ªåº•å‘ä¸Šé€’å½’ |
| 226 | ç¿»è½¬äºŒå‰æ ‘ | ğŸŸ¢ ç®€å• | é€’å½’äº¤æ¢å­æ ‘ |
| 94 | äºŒå‰æ ‘çš„ä¸­åºéå† | ğŸŸ¢ ç®€å• | é€’å½’/è¿­ä»£ï¼ˆæ ˆï¼‰ |
| 101 | å¯¹ç§°äºŒå‰æ ‘ | ğŸŸ¢ ç®€å• | åŒæŒ‡é’ˆé€’å½’ |
| 102 | äºŒå‰æ ‘çš„å±‚åºéå† | ğŸŸ¡ ä¸­ç­‰ | BFSï¼ˆé˜Ÿåˆ—ï¼‰ |

---

## ğŸ“– æ€»ç»“

**æ ¸å¿ƒæ€æƒ³**ï¼š
1. **é€’å½’** - æ ‘çš„å¤©ç„¶ç‰¹æ€§ï¼Œå…ˆå¤„ç†å­æ ‘å†å¤„ç†æ ¹
2. **åˆ†æ²»** - å¤§é—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜ï¼ˆå·¦å­æ ‘ + å³å­æ ‘ï¼‰
3. **BFS** - å±‚åºéå†ä½¿ç”¨é˜Ÿåˆ—
4. **DFS** - æ·±åº¦ä¼˜å…ˆä½¿ç”¨é€’å½’æˆ–æ ˆ

**è§£é¢˜æ¨¡æ¿**ï¼š
1. **éå†é—®é¢˜** â†’ å‰/ä¸­/ååºéå†
2. **æ·±åº¦/é«˜åº¦** â†’ è‡ªåº•å‘ä¸Šé€’å½’
3. **å¯¹ç§°/é•œåƒ** â†’ åŒæŒ‡é’ˆé€’å½’
4. **å±‚çº§é—®é¢˜** â†’ BFSå±‚åºéå†
5. **è·¯å¾„é—®é¢˜** â†’ è‡ªé¡¶å‘ä¸‹é€’å½’

**é€’å½’æŠ€å·§**ï¼š
- æ˜ç¡®é€’å½’å‡½æ•°çš„å®šä¹‰
- ç¡®å®šç»ˆæ­¢æ¡ä»¶
- å¤„ç†å½“å‰å±‚é€»è¾‘
- é€’å½’è°ƒç”¨å·¦å³å­æ ‘
- è¿”å›ç»“æœ

**æ³¨æ„äº‹é¡¹**ï¼š
- ç©ºèŠ‚ç‚¹åˆ¤æ–­è¦æ”¾åœ¨æœ€å‰é¢
- ç†è§£å‰åº/ä¸­åº/ååºçš„åŒºåˆ«
- BFS è¦è®°å½•æ¯å±‚çš„èŠ‚ç‚¹æ•°
- é€’å½’æ—¶æ³¨æ„å‚æ•°ä¼ é€’

æŒæ¡è¿™äº›æ¨¡æ¿ï¼ŒäºŒå‰æ ‘é¢˜ç›®æ‰‹åˆ°æ“’æ¥ï¼ğŸŒ²

---

> **ä½œè€…**: Dxboy266  
> **å®Œæˆæ—¥æœŸ**: 2025-10-26  
> **çŠ¶æ€**: âœ… äºŒå‰æ ‘å…¥é—¨é¢˜ç›®å®Œæˆ

