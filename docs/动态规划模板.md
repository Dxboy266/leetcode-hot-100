# åŠ¨æ€è§„åˆ’æ ¸å¿ƒæ¨¡æ¿ ğŸ§ 

---

## ğŸ¯ DP äº”æ­¥æ³•
1. é—®é¢˜æ˜¯å¦å…·æœ‰æœ€ä¼˜å­ç»“æ„ï¼Ÿï¼ˆå­é—®é¢˜çš„æœ€ä¼˜ç»„åˆæ„æˆå…¨å±€æœ€ä¼˜ï¼‰
2. å®šä¹‰çŠ¶æ€ï¼šdp[i] è¡¨ç¤ºä»€ä¹ˆï¼Ÿæ˜¯å¦éœ€è¦äºŒç»´/æ»šåŠ¨ï¼Ÿ
3. çŠ¶æ€è½¬ç§»ï¼šdp[i] ç”±å“ªäº›çŠ¶æ€è½¬ç§»è€Œæ¥ï¼Ÿï¼ˆå†™å‡ºæ–¹ç¨‹ï¼‰
4. åˆå§‹æ¡ä»¶ï¼šdp çš„èµ·ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿè¾¹ç•Œå¦‚ä½•å¤„ç†ï¼Ÿ
5. ç»“æœï¼šç­”æ¡ˆåœ¨ dp çš„å“ªä¸ªä½ç½®ï¼Ÿå¦‚ä½•å–ï¼Ÿ

---

## ğŸ”§ å¸¸è§æ¨¡å‹ä¸æ¨¡æ¿

### 1) ä¸€ç»´çº¿æ€§ DPï¼ˆçˆ¬æ¥¼æ¢¯ï¼‰
- åœºæ™¯ï¼šæ¯ä¸€æ­¥åªä¾èµ–å‰é¢ k æ­¥ï¼ˆå¸¸è§ k=1/2ï¼‰
- å®šä¹‰ï¼šdp[i] = åˆ°è¾¾ç¬¬ i é˜¶çš„æ–¹æ³•æ•°
- è½¬ç§»ï¼šdp[i] = dp[i-1] + dp[i-2]
- åˆå§‹ï¼šdp[0]=1, dp[1]=1
- ç»“æœï¼šdp[n]

ä»£ç ï¼ˆæ»šåŠ¨å˜é‡ï¼‰ï¼š
```java
public int climbStairs(int n) {
    if (n <= 1) return 1;
    int a = 1, b = 1; // dp[0], dp[1]
    for (int i = 2; i <= n; i++) {
        int c = a + b; // dp[i] = dp[i-1] + dp[i-2]
        a = b;
        b = c;
    }
    return b; // dp[n]
}
```

### 2) åºåˆ—æœ€ä¼˜å€¼ï¼ˆæœ€å¤§å­æ•°ç»„å’Œ, Kadaneï¼‰
- åœºæ™¯ï¼šè¿ç»­å­æ•°ç»„/å­ä¸²æœ€ä¼˜å€¼
- å®šä¹‰ï¼šcurr è¡¨ç¤º"ä»¥ i ç»“å°¾"çš„æœ€å¤§å’Œï¼›ans ç»´æŠ¤å…¨å±€æœ€å¤§
- è½¬ç§»ï¼šcurr = max(nums[i], curr + nums[i])
- åˆå§‹ï¼šcurr=ans=nums[0]
- ç»“æœï¼šans

ä»£ç ï¼ˆKadaneï¼‰ï¼š
```java
public int maxSubArray(int[] nums) {
    int curr = nums[0], ans = nums[0];
    for (int i = 1; i < nums.length; i++) {
        curr = Math.max(nums[i], curr + nums[i]);
        ans = Math.max(ans, curr);
    }
    return ans;
}
```

ç­‰ä»· DP æ•°ç»„å†™æ³•ï¼š
```java
// dp[i] = ä»¥ i ç»“å°¾çš„æœ€å¤§å­æ•°ç»„å’Œ
int[] dp = new int[nums.length];
dp[0] = nums[0];
int ans = dp[0];
for (int i = 1; i < nums.length; i++) {
    dp[i] = Math.max(nums[i], dp[i-1] + nums[i]);
    ans = Math.max(ans, dp[i]);
}
```

### 3) é€‰æ‹©å‹DPï¼ˆæ‰“å®¶åŠ«èˆï¼‰
- åœºæ™¯ï¼šå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œæœ‰é€‰æ‹©æˆ–ä¸é€‰æ‹©ä¸¤ç§å†³ç­–ï¼Œä¸”å†³ç­–ä¹‹é—´æœ‰çº¦æŸ
- å®šä¹‰ï¼šdp[i] = è€ƒè™‘å‰ i+1 ä¸ªå…ƒç´ èƒ½è·å¾—çš„æœ€å¤§æ”¶ç›Š
- è½¬ç§»ï¼šdp[i] = max(dp[i-1], dp[i-2] + nums[i])
  - dp[i-1] è¡¨ç¤ºä¸é€‰æ‹©ç¬¬ i ä¸ªå…ƒç´ 
  - dp[i-2] + nums[i] è¡¨ç¤ºé€‰æ‹©ç¬¬ i ä¸ªå…ƒç´ ï¼ˆä¸èƒ½é€‰æ‹© i-1ï¼‰
- åˆå§‹ï¼šdp[0]=nums[0], dp[1]=max(nums[0], nums[1])
- ç»“æœï¼šdp[n-1]

ä»£ç ï¼ˆæ»šåŠ¨å˜é‡ï¼‰ï¼š
```java
public int rob(int[] nums) {
    if (nums.length == 0) return 0;
    if (nums.length == 1) return nums[0];
    int dpI2 = nums[0], dpI1 = Math.max(nums[0], nums[1]);
    int max = dpI1;
    for (int i = 2; i < nums.length; i++) {
        max = Math.max(dpI1, dpI2 + nums[i]);
        dpI2 = dpI1;
        dpI1 = max;
    }
    return max;
}
```

### 4) å‰ç¼€å’Œè¾…åŠ©ï¼ˆæœ€å¤§å­æ•°ç»„å’Œçš„å‰ç¼€è§£æ³•ï¼‰
- æ€è·¯ï¼šans = max(prefix[i] - minPrefix[i-1])
- åœ¨çº¿ç»´æŠ¤ï¼š`curPrefix += x; ans = max(ans, curPrefix - minPrefix); minPrefix = min(minPrefix, curPrefix)`
- é€‚ç”¨äº"è¿ç»­åŒºé—´å’Œæœ€ä¼˜"çš„ä¸€ç±»é—®é¢˜

### 5) å®Œå…¨èƒŒåŒ…ï¼ˆé›¶é’±å…‘æ¢ï¼‰â­
- åœºæ™¯ï¼šç‰©å“å¯ä»¥**æ— é™æ¬¡ä½¿ç”¨**ï¼Œæ±‚å‡‘æˆç›®æ ‡çš„æœ€å°‘/æœ€å¤šæ•°é‡
- å®šä¹‰ï¼šdp[i] = å‡‘æˆé‡‘é¢ i æ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°
- è½¬ç§»ï¼šdp[i] = min(dp[i], dp[i - coin] + 1)ï¼Œå¯¹æ‰€æœ‰ coin <= i
- åˆå§‹ï¼šdp[0] = 0ï¼Œdp[å…¶ä»–] = amount + 1ï¼ˆè¡¨ç¤ºä¸å¯è¾¾ï¼‰
- ç»“æœï¼šdp[amount] > amount ? -1 : dp[amount]

ä»£ç æ¨¡æ¿ï¼š
```java
public int coinChange(int[] coins, int amount) {
    int[] dp = new int[amount + 1];
    Arrays.fill(dp, amount + 1);  // åˆå§‹åŒ–ä¸ºä¸å¯è¾¾
    dp[0] = 0;
    
    // å¤–å±‚å¾ªç¯ï¼šéå†é‡‘é¢
    for (int i = 1; i <= amount; i++) {
        // å†…å±‚å¾ªç¯ï¼šå°è¯•æ¯ç§ç¡¬å¸
        for (int coin : coins) {
            if (i >= coin) {
                dp[i] = Math.min(dp[i], dp[i - coin] + 1);
            }
        }
    }
    
    return dp[amount] > amount ? -1 : dp[amount];
}
```

**å®Œå…¨èƒŒåŒ…çš„éå†é¡ºåº**ï¼š
- æ±‚æœ€å€¼é—®é¢˜ï¼šå…ˆéå†å®¹é‡ï¼Œå†éå†ç‰©å“ï¼ˆä¸Šé¢çš„å†™æ³•ï¼‰âœ…
- æ±‚ç»„åˆæ•°ï¼šå…ˆéå†ç‰©å“ï¼Œå†éå†å®¹é‡
- æ±‚æ’åˆ—æ•°ï¼šå…ˆéå†å®¹é‡ï¼Œå†éå†ç‰©å“

**è®°å¿†åŒ–æœç´¢å†™æ³•**ï¼š
```java
// è‡ªé¡¶å‘ä¸‹ï¼Œæ›´å®¹æ˜“ç†è§£é€’å½’å…³ç³»
public int coinChangeMemo(int[] coins, int amount) {
    int[] memo = new int[amount + 1];
    Arrays.fill(memo, -2);  // -2 è¡¨ç¤ºæœªè®¡ç®—
    return dfs(coins, amount, memo);
}

private int dfs(int[] coins, int remain, int[] memo) {
    if (remain == 0) return 0;
    if (remain < 0) return -1;
    if (memo[remain] != -2) return memo[remain];
    
    int minCount = Integer.MAX_VALUE;
    for (int coin : coins) {
        int sub = dfs(coins, remain - coin, memo);
        if (sub != -1) {
            minCount = Math.min(minCount, sub + 1);
        }
    }
    
    memo[remain] = (minCount == Integer.MAX_VALUE) ? -1 : minCount;
    return memo[remain];
}
```

### 6) å­åºåˆ—é—®é¢˜ï¼ˆæœ€é•¿é€’å¢å­åºåˆ— LISï¼‰â­
- åœºæ™¯ï¼šä»æ•°ç»„ä¸­é€‰æ‹©è‹¥å¹²å…ƒç´ ï¼ˆä¸è¦æ±‚è¿ç»­ï¼‰ï¼Œæ±‚æ»¡è¶³æ¡ä»¶çš„æœ€é•¿/æœ€å¤šå­åºåˆ—

**è§£æ³•ä¸€ï¼šDP O(nÂ²)**
- å®šä¹‰ï¼šdp[i] = ä»¥ nums[i] ç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—é•¿åº¦
- è½¬ç§»ï¼šdp[i] = max(dp[j] + 1)ï¼Œå…¶ä¸­ j < i ä¸” nums[j] < nums[i]
- åˆå§‹ï¼šdp[i] = 1ï¼ˆæ¯ä¸ªå…ƒç´ è‡ªå·±æ„æˆé•¿åº¦ä¸º 1 çš„å­åºåˆ—ï¼‰
- ç»“æœï¼šmax(dp)

```java
public int lengthOfLIS(int[] nums) {
    int n = nums.length;
    int[] dp = new int[n];
    Arrays.fill(dp, 1);
    int maxLen = 1;
    
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < i; j++) {
            if (nums[j] < nums[i]) {
                dp[i] = Math.max(dp[i], dp[j] + 1);
            }
        }
        maxLen = Math.max(maxLen, dp[i]);
    }
    
    return maxLen;
}
```

**è§£æ³•äºŒï¼šè´ªå¿ƒ + äºŒåˆ† O(n log n) â­â­â­**
- æ€è·¯ï¼šç»´æŠ¤ tails æ•°ç»„ï¼Œtails[i] = é•¿åº¦ä¸º i+1 çš„é€’å¢å­åºåˆ—çš„æœ€å°æœ«å°¾å…ƒç´ 
- æ ¸å¿ƒï¼šå¯¹äºç›¸åŒé•¿åº¦çš„å­åºåˆ—ï¼Œæœ«å°¾è¶Šå°è¶Šæœ‰åˆ©äºåç»­è¿½åŠ 

```java
public int lengthOfLIS(int[] nums) {
    int[] tails = new int[nums.length];
    int size = 0;
    
    for (int num : nums) {
        // äºŒåˆ†æŸ¥æ‰¾ï¼šæ‰¾ç¬¬ä¸€ä¸ª >= num çš„ä½ç½®
        int left = 0, right = size;
        while (left < right) {
            int mid = left + (right - left) / 2;
            if (tails[mid] < num) {
                left = mid + 1;
            } else {
                right = mid;
            }
        }
        
        tails[left] = num;
        if (left == size) size++;
    }
    
    return size;
}
```

**ä¸ºä»€ä¹ˆè´ªå¿ƒ+äºŒåˆ†æ›´ä¼˜ï¼Ÿ**
- DP æ–¹æ³•ï¼šdp[i] ä¾èµ–æ‰€æœ‰ j<i çš„çŠ¶æ€ï¼ŒO(nÂ²)
- è´ªå¿ƒæ–¹æ³•ï¼šç»´æŠ¤æœ€ä¼˜çš„ tails æ•°ç»„ï¼Œæ¯æ¬¡äºŒåˆ†æŸ¥æ‰¾ä½ç½®ï¼ŒO(n log n)
- æ ¸å¿ƒæ€æƒ³ï¼šç›¸åŒé•¿åº¦çš„å­åºåˆ—ï¼Œæœ«å°¾è¶Šå°è¶Šå¥½ï¼ˆè´ªå¿ƒç­–ç•¥ï¼‰

---

## ğŸ§© åˆ†æ²»/çº¿æ®µæ ‘ï¼ˆæœ€å¤§å­æ•°ç»„å’Œè¿›é˜¶ï¼‰

- åˆ†æ²»ï¼šåŒºé—´æœ€å¤§ = max(å·¦æœ€å¤§, å³æœ€å¤§, è·¨ä¸­ç‚¹æœ€å¤§)ï¼Œè·¨ä¸­ç‚¹æœ€å¤§ = å·¦åç¼€æœ€å¤§ + å³å‰ç¼€æœ€å¤§
- çº¿æ®µæ ‘ï¼šç»´æŠ¤ `sum/prefixMax/suffixMax/best` å››å…ƒç»„ï¼ŒæŒ‰è§„åˆ™åˆå¹¶

ä½¿ç”¨åœºæ™¯ï¼šéœ€è¦é¢‘ç¹æŸ¥è¯¢/æ›´æ–°åŒºé—´æœ€ä¼˜æ—¶ï¼ˆå¦‚åœ¨çº¿å¤„ç†ï¼‰ã€‚

---

## âš ï¸ æ˜“é”™ç‚¹æ¸…å•
- åˆå§‹æ¡ä»¶ä¸è¦é”™ï¼ˆå¦‚çˆ¬æ¥¼æ¢¯ dp[0]=1, dp[1]=1ï¼‰
- è¾¹ç•Œä¸‹æ ‡ï¼šå¾ªç¯ä»å“ªé‡Œå¼€å§‹ï¼Œç­”æ¡ˆåœ¨å“ªä¸ªä½ç½®
- å…¨è´Ÿæ•°ç»„ï¼šKadane/å‰ç¼€å’Œåˆå§‹åŒ–è¦èƒ½å¤„ç†è´Ÿæ•°
- è®°å¿†åŒ–é€’å½’ï¼šè®°å¾—ç¼“å­˜ä¸è¾¹ç•Œè¿”å›
- ç©ºé—´ä¼˜åŒ–ï¼šåªåœ¨å½“å‰çŠ¶æ€ä»…ä¾èµ–å°‘é‡å‰æ€æ—¶ä½¿ç”¨

---

## âœ… æœ¬ä»“åº“å·²å®Œæˆçš„ DP é¢˜
- 70. çˆ¬æ¥¼æ¢¯ï¼šDPæ•°ç»„ / æ»šåŠ¨å˜é‡ / è®°å¿†åŒ–
- 53. æœ€å¤§å­æ•°ç»„å’Œï¼šKadane / DPæ•°ç»„ / å‰ç¼€å’Œ / åˆ†æ²» / çº¿æ®µæ ‘
- 198. æ‰“å®¶åŠ«èˆï¼šDPæ•°ç»„ / æ»šåŠ¨å˜é‡ / è®°å¿†åŒ–æœç´¢

> å»ºè®®é¡ºåºï¼šçº¿æ€§ DP å…¥é—¨ï¼ˆçˆ¬æ¥¼æ¢¯ï¼‰â†’ Kadaneï¼ˆå­æ•°ç»„æœ€ä¼˜ï¼‰â†’ é€‰æ‹©å‹DPï¼ˆæ‰“å®¶åŠ«èˆï¼‰â†’ èƒŒåŒ…/è‚¡ç¥¨ï¼ˆåç»­ä¸“é¢˜ï¼‰